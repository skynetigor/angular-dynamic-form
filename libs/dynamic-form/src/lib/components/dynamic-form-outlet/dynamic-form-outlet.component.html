<ng-template #defaultControlWrapper let-control="control" let-name="name">
    <ng-container [dynamicFormControlOutlet]="control" [name]="name"></ng-container>
</ng-template>

<ng-template #defaultTemplateWrapper let-templateModel="templateModel">
    <ng-container *ngTemplateOutlet="templateModel.displayed ? templateModel.templateRef : null; context: templateModel.context">
    </ng-container>
</ng-template>

<ng-template #formGroupTemplate let-dynamicFormGroup="dynamicFormGroup" let-name="name">
    <dynamic-form-outlet [id]="name" [dynamicFormGroup]="dynamicFormGroup"></dynamic-form-outlet>
</ng-template>

<form
    [style.display]="dynamicFormGroup && dynamicFormGroup.displayed ? 'block' : 'none'"
    *ngIf="dynamicFormGroup"
    [formGroup]="dynamicFormGroup"
>
    <ng-container *ngFor="let item of formBody; trackBy: trackByFn">
        <ng-container *ngTemplateOutlet="item.template; context: item.context"></ng-container>
    </ng-container>
</form>
